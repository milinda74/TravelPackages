<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title th:text="${destination.name} + ' - Sri Lanka Travel Promise'">Destination Details</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <link th:href="@{/css/style.css}" rel="stylesheet">
</head>
<body>
<div th:replace="fragments/header :: header"></div>

<!-- Destination Header -->
<section class="destination-header">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a th:href="@{/}">Home</a></li>
            <li class="breadcrumb-item"><a th:href="@{/destinations}">Destinations</a></li>
            <li class="breadcrumb-item active" aria-current="page" th:text="${destination.name}"></li>
          </ol>
        </nav>
        <h1 th:text="${destination.name}"></h1>
        <p class="lead" th:text="${destination.region}"></p>
      </div>
    </div>
  </div>
</section>

<!-- Destination Content -->
<section class="destination-content py-5">
  <div class="container">
    <div class="row">
      <div class="col-md-8">
        <img th:src="@{${destination.imageUrl}}" alt="Destination" class="img-fluid rounded mb-4">
        <h3>About</h3>
        <p th:text="${destination.description}"></p>

        <div th:if="${not #lists.isEmpty(destination.activities)}">
          <h3>Activities</h3>
          <ul class="list-group mb-4">
            <li th:each="activity : ${destination.activities}" class="list-group-item">
              <i class="fas fa-check-circle text-success me-2"></i>
              <span th:text="${activity}"></span>
            </li>
          </ul>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card">
          <div class="card-header">
            <h4>Tour Packages</h4>
          </div>
          <div class="card-body">
            <p>Explore our curated tour packages for this destination:</p>
            <a th:href="@{/tour-packages/destination/{id}(id=${destination.id})}" class="btn btn-primary w-100">
              View Tours
            </a>
          </div>
        </div>

        <div class="card mt-4">
          <div class="card-header">
            <h4>Quick Facts</h4>
          </div>
          <div class="card-body">
            <p><strong>Region:</strong> <span th:text="${destination.region}"></span></p>
            <p><strong>Best Time to Visit:</strong> Year-round</p>
            <p><strong>Popular Activities:</strong>
              <span th:each="activity, iter : ${destination.activities}" th:text="${activity} + (iter.count < #lists.size(destination.activities) ? ', ' : '')"></span>
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<div th:replace="fragments/footer :: footer"></div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script th:src="@{/js/script.js}"></script>
</body>
</html>